# VS Agent deployment — Helm chart values
# Same format as verana-deploy charts (e.g., ecs-trust-registry.yaml).
#
# To deploy your own service:
#   1. Create a branch: vs/testnet-<name> or vs/devnet-<name>
#   2. Edit this file with your service-specific values
#   3. Run the workflow from GitHub Actions
#
# Network (testnet/devnet) and service name are derived from the branch name.
# The workflow substitutes __NETWORK__ and __VS_NAME__ placeholders at deploy time.
# Example: vs/testnet-example-vs → __NETWORK__=testnet, __VS_NAME__=example-vs
chartSource: oci://registry-1.docker.io/veranalabs/vs-agent-chart
chartVersion: v1.7.3-dev.3

chartNamespace: vna-__NETWORK__-1

global:
  domain: __NETWORK__.verana.network

name: __VS_NAME__
replicas: 1

adminPort: 3000
didcommPort: 3001
eventsBaseUrl: "https://__VS_NAME__.__NETWORK__.verana.network"
publicDidMethod: "webvh"

resources:
  requests:
    cpu: 100m
    memory: 256Mi
  limits:
    cpu: 500m
    memory: 512Mi

ingress:
  host: "__VS_NAME__.__NETWORK__.verana.network"
  tlsSecret: "public.__VS_NAME__.__NETWORK__.verana.network-cert"
  public:
    enableCors: true
  private:
    enableCors: true
    whitelistSourceRange: ""
    tlsSecret: ""
    host: ""

extraEnv:
  - name: ENABLE_PUBLIC_API_SWAGGER
    value: "true"
  - name: AGENT_LOG_LEVEL
    value: "3"
  - name: USE_CORS
    value: "true"

storage:
  size: 1Gi
  storageClassName: csi-cinder-high-speed
